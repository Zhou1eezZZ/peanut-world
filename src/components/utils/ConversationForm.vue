<template>
    <div class="myForm" />
</template>
<script>
import { ConversationalForm } from 'conversational-form'
export default {
    name: 'MyForm',
    data() {
        return {}
    },
    mounted() {
        this.setupForm()
    },
    methods: {
        setupForm() {
            const formFields = [
                {
                    tag: 'input',
                    type: 'text',
                    name: 'firstname',
                    'cf-questions': 'ä½ å§“å•¥ï¼Ÿ'
                },
                {
                    tag: 'input',
                    type: 'text',
                    name: 'lastname',
                    'cf-questions': 'ä½ åå•¥ï¼Ÿ'
                },
                {
                    tag: 'fieldset',
                    type: 'radio',
                    name: 'isPig',
                    'cf-questions': 'ä½ æ˜¯ğŸ·å—ï¼Ÿ',
                    children: [
                        {
                            tag: 'input',
                            type: 'radio',
                            'cf-label': 'æ˜¯',
                            value: 'yes'
                        },
                        {
                            tag: 'input',
                            type: 'radio',
                            'cf-label': 'å¦',
                            value: 'no',
                            disabled: 'true'
                        }
                    ]
                }
            ]
            this.cf = ConversationalForm.startTheConversation({
                options: {
                    submitCallback: this.submitCallback,
                    preventAutoFocus: true
                },
                tags: formFields
            })
            this.$el.appendChild(this.cf.el)
        },
        submitCallback() {
            const formDataSerialized = this.cf.getFormData(true)
            console.log('Formdata, obj:', formDataSerialized)
            this.cf.addRobotChatResponse('ä½ çœŸé¡¶ã€‚å»æ§åˆ¶å°çœ‹ä½ è¾“å…¥çš„ç­”æ¡ˆå§ã€‚')
        }
    }
}
</script>

<style lang="scss" scoped>
.myForm {
    position: relative;
    height: 600px;
    width: 100%;
}
</style>
